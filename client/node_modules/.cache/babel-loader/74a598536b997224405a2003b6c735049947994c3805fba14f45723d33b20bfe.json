{"ast":null,"code":"import axios from\"axios\";const API=axios.create({baseURL:\"http://localhost:5000/api\",// Backend base URL\nheaders:{\"Content-Type\":\"application/json\"}});// Include authorization token in requests\nAPI.interceptors.request.use(config=>{const token=localStorage.getItem(\"token\");if(token){config.headers.Authorization=`Bearer ${token}`;}return config;},error=>Promise.reject(error));// Handle unauthorized responses\nAPI.interceptors.response.use(response=>response,error=>{if(error.response&&error.response.status===401){console.error(\"Unauthorized - Redirecting to login...\");localStorage.removeItem(\"token\");window.location.href=\"/login\";}return Promise.reject(error);});// Fetch all bookings (admin view)\nexport const fetchBookings=async()=>{try{const response=await API.get(\"/bookings\");return response.data;}catch(error){var _error$response;console.error(\"Error fetching bookings:\",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);throw error;}};// Delete a booking by ID\nexport const deleteBooking=async bookingId=>{try{const response=await API.delete(`/bookings/${bookingId}`);return response.data;}catch(error){var _error$response2;console.error(\"Error deleting booking:\",((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message);throw error;}};export const getAllUsers=async()=>{try{const response=await API.get(\"/users\");return response.data;}catch(error){var _error$response3;console.error(\"Error fetching users:\",((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||error.message);throw error;}};export const deleteUser=async userId=>{try{const response=await API.delete(`/users/${userId}`);return response.data;}catch(error){var _error$response4;console.error(\"Error deleting user:\",((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data)||error.message);throw error;}};export default API;","map":{"version":3,"names":["axios","API","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","status","console","removeItem","window","location","href","fetchBookings","get","data","_error$response","message","deleteBooking","bookingId","delete","_error$response2","getAllUsers","_error$response3","deleteUser","userId","_error$response4"],"sources":["C:/Users/ecaranto/Downloads/gown-booking-system with admin/client/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API = axios.create({\r\n  baseURL: \"http://localhost:5000/api\", // Backend base URL\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// Include authorization token in requests\r\nAPI.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// Handle unauthorized responses\r\nAPI.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response && error.response.status === 401) {\r\n      console.error(\"Unauthorized - Redirecting to login...\");\r\n      localStorage.removeItem(\"token\");\r\n      window.location.href = \"/login\";\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Fetch all bookings (admin view)\r\nexport const fetchBookings = async () => {\r\n  try {\r\n    const response = await API.get(\"/bookings\");\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching bookings:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Delete a booking by ID\r\nexport const deleteBooking = async (bookingId) => {\r\n  try {\r\n    const response = await API.delete(`/bookings/${bookingId}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error deleting booking:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getAllUsers = async () => {\r\n  try {\r\n    const response = await API.get(\"/users\");\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching users:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (userId) => {\r\n  try {\r\n    const response = await API.delete(`/users/${userId}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error deleting user:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default API;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}